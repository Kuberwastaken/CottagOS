<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CottagOS</title>
    <meta name="description" content="A cottagecore faux operating system" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Quicksand:wght@300;400;500;600&family=Nanum+Pen+Script&family=Fira+Code:wght@400;500&family=Indie+Flower&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/main.css" />
    <link rel="stylesheet" href="css/text-editor.css" />
    <link rel="stylesheet" href="css/paint-app.css" />
    <link rel="icon" type="image/x-icon" href="assets/favicons/favicon.ico" />
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicons/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicons/favicon-16x16.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="assets/favicons/apple-touch-icon.png" />
    <link rel="manifest" href="assets/favicons/site.webmanifest" />
  </head>
  <body class="mobile-mode">
    <div class="cottage-os">
      <!-- Topbar -->
      <div class="topbar">
        <div class="topbar-left">
          <div class="os-logo">
            <div class="logo-flower">
              <div class="petal"></div>
              <div class="petal"></div>
              <div class="petal"></div>
              <div class="petal"></div>
              <div class="center"></div>
            </div>
            <span>CottagOS</span>
          </div>
          <div class="topbar-menu">
            <div class="topbar-menu-item" data-action="help">Help</div>
            <div class="topbar-menu-item" data-action="about">About</div>
          </div>
        </div>
        <div class="topbar-right">
          <a class="topbar-icon" href="https://github.com/Kuberwastaken/CottagOS" target="_blank" rel="noopener" title="View on GitHub" aria-label="GitHub Repository">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.021c0 4.428 2.865 8.184 6.839 9.504.5.092.682-.217.682-.483 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.342-3.369-1.342-.454-1.155-1.11-1.463-1.11-1.463-.908-.62.069-.608.069-.608 1.004.07 1.532 1.032 1.532 1.032.892 1.53 2.341 1.088 2.91.832.091-.647.35-1.088.636-1.339-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.987 1.029-2.687-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.025A9.564 9.564 0 0 1 12 6.844c.85.004 1.705.115 2.504.337 1.909-1.295 2.748-1.025 2.748-1.025.546 1.378.202 2.397.1 2.65.64.7 1.028 1.594 1.028 2.687 0 3.847-2.338 4.695-4.566 4.944.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.749 0 .268.18.579.688.481C19.138 20.2 22 16.447 22 12.021 22 6.484 17.523 2 12 2z" fill="#24292f"/>
            </svg>
          </a>
        </div>
      </div>
      
      <!-- Desktop Area -->
      <div class="desktop" id="desktop">
        <!-- Desktop Icons in rows of 3 -->
        <div class="desktop-row">
          <div class="desktop-icon" data-app="syneva">
            <div class="icon-img">
              <img src="assets/icons/syneva.svg" alt="SYNEVA Chat" />
            </div>
            <span class="icon-label">SYNEVA Chat</span>
          </div>
          <div class="desktop-icon" data-app="terminal">
            <div class="icon-img">
              <img src="assets/icons/terminal.svg" alt="Starlight Terminal" />
            </div>
            <span class="icon-label">Starlight Terminal</span>
          </div>
          <div class="desktop-icon" data-app="settings">
            <div class="icon-img">
              <img src="assets/icons/settings.svg" alt="Settings Cottage" />
            </div>
            <span class="icon-label">Settings Cottage</span>
          </div>
        </div>
        <div class="desktop-row">
          <div class="desktop-icon" data-app="mossbell">
            <div class="icon-img">
              <img src="assets/icons/mossbell.svg" alt="Mossbell Pet" />
            </div>
            <span class="icon-label">Mossbell</span>
          </div>
          <div class="desktop-icon" data-app="garden">
            <div class="icon-img">
              <img src="assets/icons/garden.svg" alt="Garden Planner" />
            </div>
            <span class="icon-label">Garden Planner</span>
          </div>
          <div class="desktop-icon" data-app="weather">
            <div class="icon-img">
              <img src="assets/icons/weather.svg" alt="Weather" />
            </div>
            <span class="icon-label">Weather</span>
          </div>
        </div>
        <div class="desktop-row">
          <div class="desktop-icon" data-app="recipes">
            <div class="icon-img">
              <img src="assets/icons/recipes.svg" alt="Recipe Book" />
            </div>
            <span class="icon-label">Hearthfire Recipes</span>
          </div>
          <div class="desktop-icon" data-app="fortune">
            <div class="icon-img">
              <img src="assets/icons/fortune.svg" alt="Fortune Teller" />
            </div>
            <span class="icon-label">Fortuna's Lens</span>
          </div>
          <div class="desktop-icon" data-app="text-editor">
            <div class="icon-img">
              <img src="assets/icons/text-editor.svg" alt="Text Editor" />
            </div>
            <span class="icon-label">Parchment Notes</span>
          </div>
        </div>
        <div class="desktop-row">
          <div class="desktop-icon" data-app="paint">
            <div class="icon-img">
              <img src="assets/icons/paint.svg" alt="Paint App" />
            </div>
            <span class="icon-label">Wildflower Paint</span>
          </div>
        </div>
        <!-- Dandelion Seeds Animation -->
        <div class="dandelion-seeds" id="dandelion-seeds"></div>
        <!-- Butterflies Animation -->
        <div class="butterflies" id="butterflies"></div>
      </div>
      
      <!-- Taskbar -->
      <div class="taskbar">
        <div class="taskbar-left">
          <div class="os-logo">
            <div class="logo-flower">
              <div class="petal"></div>
              <div class="petal"></div>
              <div class="petal"></div>
              <div class="petal"></div>
              <div class="center"></div>
            </div>
            <span>CottagOS</span>
          </div>
        </div>
        
        <div class="taskbar-center" id="taskbar-apps">
          <!-- App icons will be added here when windows are open -->
        </div>
        
        <div class="taskbar-right">
          <div class="system-tray">
            <div class="tray-item" id="clock">
              <div class="pocket-watch">
                <span class="time">12:00</span>
              </div>
            </div>
            
            <div class="tray-item volume-control">
              <div class="pitcher">
                <div class="pitcher-waves"></div>
              </div>
            </div>
            
            <div class="tray-item theme-toggle" id="theme-toggle">
              <div class="toggle-icon sun-moon"></div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Window Container -->
      <div class="window-container" id="window-container">
        <!-- Windows will be created here by JavaScript -->
      </div>
    </div>
    
    <!-- Mobile App Launcher (shown only in mobile mode) -->
    <div class="mobile-home" style="display: none;">
      <div class="mobile-pages">
        <!-- Page 1 -->
        <div class="mobile-page">
          <button class="mobile-app-icon" data-app="syneva"><img src="assets/icons/syneva.svg" alt="SYNEVA Chat" /><span class="mobile-app-label">SYNEVA Chat</span></button>
          <button class="mobile-app-icon" data-app="terminal"><img src="assets/icons/terminal.svg" alt="Starlight Terminal" /><span class="mobile-app-label">Starlight Terminal</span></button>
          <button class="mobile-app-icon" data-app="settings"><img src="assets/icons/settings.svg" alt="Settings Cottage" /><span class="mobile-app-label">Settings Cottage</span></button>
          <button class="mobile-app-icon" data-app="mossbell"><img src="assets/icons/mossbell.svg" alt="Mossbell Pet" /><span class="mobile-app-label">Mossbell</span></button>
          <button class="mobile-app-icon" data-app="garden"><img src="assets/icons/garden.svg" alt="Garden Planner" /><span class="mobile-app-label">Garden Planner</span></button>
          <button class="mobile-app-icon" data-app="weather"><img src="assets/icons/weather.svg" alt="Weather" /><span class="mobile-app-label">Weather</span></button>
          <button class="mobile-app-icon" data-app="recipes"><img src="assets/icons/recipes.svg" alt="Hearthfire Recipes" /><span class="mobile-app-label">Hearthfire Recipes</span></button>
          <button class="mobile-app-icon" data-app="fortune"><img src="assets/icons/fortune.svg" alt="Fortuna's Lens" /><span class="mobile-app-label">Fortuna's Lens</span></button>
          <button class="mobile-app-icon" data-app="text-editor"><img src="assets/icons/text-editor.svg" alt="Parchment Notes" /><span class="mobile-app-label">Parchment Notes</span></button>
          <button class="mobile-app-icon" data-app="paint"><img src="assets/icons/paint.svg" alt="Wildflower Paint" /><span class="mobile-app-label">Wildflower Paint</span></button>
        </div>
        <!-- Add more .mobile-page divs for additional pages if needed -->
      </div>
      <div class="mobile-dock">
        <button class="mobile-dock-icon" data-app="garden"><img src="assets/icons/garden.svg" alt="Garden Planner" /><span class="mobile-app-label">Garden</span></button>
        <button class="mobile-dock-icon" data-app="recipes"><img src="assets/icons/recipes.svg" alt="Hearthfire Recipes" /><span class="mobile-app-label">Recipes</span></button>
        <button class="mobile-dock-icon" data-app="text-editor"><img src="assets/icons/text-editor.svg" alt="Parchment Notes" /><span class="mobile-app-label">Notes</span></button>
        <button class="mobile-dock-icon" data-app="paint"><img src="assets/icons/paint.svg" alt="Wildflower Paint" /><span class="mobile-app-label">Paint</span></button>
      </div>
    </div>
    
    <!-- Mobile App Modal (for full-screen app views on mobile) -->
    <div class="mobile-app-modal"></div>
    
    <!-- Templates for Windows -->
    <template id="window-template">
      <div class="cottage-window" data-app="">
        <div class="window-titlebar">
          <span class="window-title"></span>
          <div class="window-controls">
            <button class="window-minimize">‚ûñ</button>
            <button class="window-close">‚úï</button>
          </div>
        </div>
        <div class="window-content"></div>
        <div class="resize-handle"></div>
      </div>
    </template>
    
    <!-- Help Template -->
    <template id="help-template">
      <div class="parchment-window">
        <div class="parchment-header">
          <span class="parchment-icon">ü™∂</span>
          <span class="parchment-title">Woodland Help & Wisdom</span>
          <span class="parchment-icon">üåø</span>
        </div>
        <div class="parchment-divider"><span>‚úß‚úß‚úß</span></div>
        <div class="parchment-body">
          <p>Welcome, gentle traveler! You've stumbled upon the enchanted desktop of <b>CottagOS</b>.<br>
          Here, the forest spirits have made everything cozy and magical just for you.</p>
          <ul class="parchment-list">
            <li>üçÑ <b>Open an App:</b> Click a desktop icon to awaken a mini-cottage window.</li>
            <li>üå∏ <b>Move & Resize:</b> Drag the window's top bar or its corner to arrange your space.</li>
            <li>ü¶ã <b>Taskbar:</b> See which woodland wonders are open and bring them to the front.</li>
            <li>üåô <b>Night Mode:</b> Switch to moonlit coziness in Settings Cottage.</li>
          </ul>
          <div class="parchment-tip">
            <span class="parchment-tip-title">Tip of the Day:</span>
            <span class="parchment-tip-body">"Take a moment to listen to the digital birdsong. Sometimes, the best ideas bloom in stillness."</span>
          </div>
        </div>
        <div class="parchment-divider"><span>‚úø</span></div>
        <div class="parchment-footer">May your code be as cozy as a cottage in the woods üå≤</div>
      </div>
    </template>
    
    <!-- About Template -->
    <template id="about-template">
      <div class="parchment-window">
        <div class="parchment-header">
          <span class="parchment-icon">üçÉ</span>
          <span class="parchment-title">About CottagOS</span>
          <span class="parchment-icon">ü¶â</span>
        </div>
        <div class="parchment-divider"><span>‚úß‚úß‚úß</span></div>
        <div class="parchment-body">
          <p><b>CottagOS</b> <span class="about-version">v0.1.0 "Willow Whisper"</span></p>
          <p>A whimsical, cottagecore-inspired desktop realm where code and coziness entwine.<br>
          Crafted by woodland spirits, pixel sprites, and a sprinkle of digital dew.</p>
          <ul class="parchment-list">
            <li>üåº <b>Handmade UI:</b> Draggable windows, animated meadows, and magical mini-apps.</li>
            <li>üçµ <b>Charming Details:</b> Custom cursors, day/night cycles, and gentle ambient sounds.</li>
            <li>üßö <b>Open Source:</b> Tended with care and shared for all forest friends.</li>
          </ul>
        </div>
        <div class="parchment-divider"><span>‚úø</span></div>
        <div class="parchment-footer">"May your journey be filled with wonder and wildflowers."</div>
      </div>
    </template>
    
    <!-- SYNEVA Chat App Template -->
    <template id="syneva-template">
      <div class="syneva-container">
        <div class="syneva-output" id="syneva-output">
          <p>SYNEVA v0.21 online. How can I help you with your cottage affairs today?</p>
        </div>
        <div class="typing-indicator" style="display: none;">‚úíÔ∏è SYNEVA is writing...</div>
        <div class="syneva-input-container">
          <div class="quill-icon">‚úíÔ∏è</div>
          <input type="text" class="syneva-input" id="syneva-input" placeholder="Write your message..." />
        </div>
        <div class="syneva-link">
          <a href="https://github.com/Kuberwastaken/MiniLMs/tree/main/SYNEVA" target="_blank">Learn more about SYNEVA</a>
        </div>
      </div>
    </template>
    
    <!-- Mossbell Pet App Template -->
    <template id="mossbell-template">
      <div class="mossbell-container">
        <header>Mossbell Pet</header>
        <section class="screen">
          <marquee scrollamount="4">
            <p>
              <span>__</span>
              <span id="moss-clock"></span>
              <span> __ HAPPY: </span><span id="happy"></span><span>%</span>
              <span> __ TUMMY: </span><span id="tummy"></span><span>%</span>
              <span> __ ENERGY: </span><span id="energy"></span><span>%</span>
              <span>__</span>
            </p>
          </marquee>
          <div class="pet-container pacing">
            <div class="pet"></div>
          </div>
        </section>
        <section class="button-container">
          <div>
            <button id="play"></button>
            <p id="play-text" class="button-text">PLAY</p>
          </div>
          <div class="middle-button">
            <button id="feed"></button>
            <p id="feed-text" class="button-text">FEED</p>
          </div>
          <div>
            <button id="sleep"></button>
            <p class="button-text">SLEEP</p>
          </div>
        </section>
      </div>
    </template>
    
    <!-- Garden Planner Template -->
    <template id="garden-template">
      <div class="garden-game"></div>
    </template>
    
    <!-- Weather Widget Template -->
    <template id="weather-template">
      <div class="weather-container">
        <div class="stained-glass">
          <div class="stained-glass-frame"></div>
          <div class="weather-animation sunny" id="weather-animation">
            <div class="sun-rays">
              <div class="sun-ray"></div>
              <div class="sun-ray"></div>
              <div class="sun-ray"></div>
              <div class="sun-ray"></div>
              <div class="sun-ray"></div>
              <div class="sun-ray"></div>
              <div class="sun-ray"></div>
              <div class="sun-ray"></div>
            </div>
          </div>
          <div class="cloud"></div>
        </div>
        <div class="weather-info">
          <div class="weather-status" id="weather-status">Sunny Day</div>
          <div class="weather-temp" id="weather-temp">72¬∞F</div>
          <div class="weather-details">
            <div class="weather-detail">
              <div class="detail-label">Humidity</div>
              <div class="detail-value">45%</div>
            </div>
            <div class="weather-detail">
              <div class="detail-label">Wind</div>
              <div class="detail-value">5 mph</div>
            </div>
          </div>
          <div class="forecast">
            <div class="forecast-day">
              <div class="day-name">Mon</div>
              <div class="day-icon">‚òÄÔ∏è</div>
              <div class="day-temp">75¬∞</div>
            </div>
            <div class="forecast-day">
              <div class="day-name">Tue</div>
              <div class="day-icon">‚õÖ</div>
              <div class="day-temp">70¬∞</div>
            </div>
            <div class="forecast-day">
              <div class="day-name">Wed</div>
              <div class="day-icon">üåßÔ∏è</div>
              <div class="day-temp">65¬∞</div>
            </div>
            <div class="forecast-day">
              <div class="day-name">Thu</div>
              <div class="day-icon">‚õÖ</div>
              <div class="day-temp">68¬∞</div>
            </div>
          </div>
        </div>
      </div>
    </template>
    
    <!-- Terminal Template -->
    <template id="terminal-template">
      <div class="terminal-container">
        <iframe class="terminal-frame" src="https://kuber.studio/" frameborder="0"></iframe>
        <div class="terminal-scanlines"></div>
        <div class="terminal-glow"></div>
      </div>
    </template>
    
    <!-- Settings Cottage Template -->
    <template id="settings-template">
      <div class="settings-container">
        <div class="settings-header">Settings Cottage</div>
        <div class="settings-group">
          <div class="settings-group-title">Display</div>
          <div class="setting-item">
            <div class="setting-label">Night Mode</div>
            <div class="setting-control">
              <div class="toggle-switch" data-setting="night-mode"></div>
            </div>
          </div>
          <div class="setting-item">
            <div class="setting-label">Theme</div>
            <div class="setting-control">
              <div class="theme-selector">
                <div class="theme-option theme-meadow selected" data-theme="meadow"></div>
                <div class="theme-option theme-lavender" data-theme="lavender"></div>
                <div class="theme-option theme-sunset" data-theme="sunset"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="settings-group">
          <div class="settings-group-title">Interface</div>
          <div class="setting-item">
            <div class="setting-label">Font</div>
            <div class="setting-control">
              <div class="font-selector">
                <div class="font-option quicksand selected" data-font="quicksand">Aa</div>
                <div class="font-option cormorant" data-font="cormorant">Aa</div>
                <div class="font-option nanum" data-font="nanum">Aa</div>
              </div>
            </div>
          </div>
          <div class="setting-item">
            <div class="setting-label">Cursor</div>
            <div class="setting-control">
              <div class="cursor-selector">
                <div class="cursor-option leaf selected" data-cursor="leaf"></div>
                <div class="cursor-option flower" data-cursor="flower"></div>
                <div class="cursor-option mushroom" data-cursor="mushroom"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="settings-group">
          <div class="settings-group-title">Sound</div>
          <div class="setting-item">
            <div class="setting-label">Volume</div>
            <div class="setting-control">
              <div class="slider-control">
                <div class="slider-track">
                  <div class="slider-handle" style="left: 70%;"></div>
                </div>
                <div class="slider-values">
                  <span>0</span>
                  <span>100</span>
                </div>
              </div>
            </div>
          </div>
          <div class="setting-item">
            <div class="setting-label">Ambient Sounds</div>
            <div class="setting-control">
              <div class="toggle-switch active" data-setting="ambient-sounds"></div>
            </div>
          </div>
        </div>
      </div>
    </template>
    
    <!-- Recipes Book Template -->
    <template id="recipes-template">
      <div class="recipes-container">
        <!-- This div will hold the HTML for the current recipe page(s) -->
        <div class="recipe-content-area">
          <!-- Recipe HTML will be injected here by JavaScript -->
        </div>
        <div class="book-navigation">
          <div class="page-button prev-page">‚óÄ</div>
          <div class="page-button next-page">‚ñ∂</div>
        </div>
      </div>
    </template>
    
    <!-- Fortune Teller Template -->
    <template id="fortune-template">
      <div class="fortune-container">
        <div class="crystal-ball">
          <div class="crystal-inner">
            <div class="fortune-swirl"></div>
            <div class="fortune-text">Tap to reveal your fortune...</div>
          </div>
          <div class="crystal-stand"></div>
        </div>
        <div class="tarot-cards">
          <div class="tarot-card">
            <div class="tarot-back"></div>
            <div class="tarot-face">
              <div class="tarot-symbol">üåô</div>
              <div class="tarot-title">The Moon</div>
            </div>
          </div>
          <div class="tarot-card">
            <div class="tarot-back"></div>
            <div class="tarot-face">
              <div class="tarot-symbol">üåû</div>
              <div class="tarot-title">The Sun</div>
            </div>
          </div>
          <div class="tarot-card">
            <div class="tarot-back"></div>
            <div class="tarot-face">
              <div class="tarot-symbol">‚≠ê</div>
              <div class="tarot-title">The Star</div>
            </div>
          </div>
        </div>
        <button class="fortune-button">Reveal My Fortune</button>
      </div>
    </template>
    
    <!-- Text Editor App Template -->
    <template id="text-editor-template">
      <div class="text-editor-mount"></div>
    </template>
    
    <!-- Paint App Template -->
    <template id="paint-template">
      <div class="cottagecore-paint-app">
        <div class="paint-toolbar">
          <button class="tool-btn" data-tool="pencil" title="Pencil">‚úèÔ∏è</button>
          <button class="tool-btn" data-tool="brush" title="Brush">üñåÔ∏è</button>
          <button class="tool-btn" data-tool="eraser" title="Eraser">üßΩ</button>
          <button class="tool-btn" data-tool="line" title="Line">/</button>
          <button class="tool-btn" data-tool="rect" title="Rectangle">‚ñ≠</button>
          <button class="tool-btn" data-tool="ellipse" title="Ellipse">‚óØ</button>
          <button class="tool-btn" data-tool="fill" title="Fill">ü™£</button>
          <div class="toolbar-section">
            <label class="toolbar-label" for="paint-color">üé®</label>
            <input type="color" id="paint-color" class="paint-color-picker" value="#9CAF88" />
          </div>
          <div class="toolbar-section">
            <label class="toolbar-label" for="paint-size">ü™∂</label>
            <input type="range" id="paint-size" class="paint-size-slider" min="1" max="20" value="4" />
          </div>
          <button class="tool-btn clear-canvas" title="Clear Canvas">üßπ</button>
        </div>
        <div class="paint-canvas-container">
          <canvas class="paint-canvas" width="700" height="500"></canvas>
        </div>
      </div>
    </template>
    
    <!-- Mobile Detection Script -->
    <script>
      (function() {
        function isMobile() {
          return window.matchMedia('(max-width: 768px)').matches ||
            /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        }
        function setMobileModeClass() {
          if (isMobile()) {
            document.body.classList.add('mobile-mode');
          } else {
            document.body.classList.remove('mobile-mode');
          }
        }
        setMobileModeClass();
        window.addEventListener('resize', setMobileModeClass);
      })();
    </script>
    
    <!-- Scripts -->
    <script src="js/main.js"></script>
    <script src="js/garden-svgs.js"></script>
    <script src="js/garden.js"></script>
    <script src="js/window-manager.js"></script>
    <script src="js/syneva.js"></script>
    <script src="js/mossbell.js"></script>
    <script src="js/ambient.js"></script>
    <script src="js/recipes.js"></script>
    <script src="js/text-editor.js"></script>
    <script src="js/paint-app.js"></script>
  </body>
</html>
